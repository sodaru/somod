var le=Object.create;var O=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var _e=Object.getOwnPropertyNames;var ye=Object.getPrototypeOf,de=Object.prototype.hasOwnProperty;var M=c=>O(c,"__esModule",{value:!0});var he=(c,f)=>()=>(f||c((f={exports:{}}).exports,f),f.exports),ve=(c,f)=>{for(var u in f)O(c,u,{get:f[u],enumerable:!0})},A=(c,f,u,t)=>{if(f&&typeof f=="object"||typeof f=="function")for(let e of _e(f))!de.call(c,e)&&(u||e!=="default")&&O(c,e,{get:()=>f[e],enumerable:!(t=se(f,e))||t.enumerable});return c},be=(c,f)=>A(M(O(c!=null?le(ye(c)):{},"default",!f&&c&&c.__esModule?{get:()=>c.default,enumerable:!0}:{value:c,enumerable:!0})),c),pe=(c=>(f,u)=>c&&c.get(f)||(u=A(M({}),f,1),c&&c.set(f,u),u))(typeof WeakMap!="undefined"?new WeakMap:0);var ae=he((Ce,T)=>{var I,G,R,N,B,V,K,x,H,q,z,L,W,P,C,J,Q,U,m,X,Y,Z,$,k,ee,te,ne,re,S;(function(c){var f=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(t){c(u(f,u(t)))}):typeof T=="object"&&typeof T.exports=="object"?c(u(f,u(T.exports))):c(u(f));function u(t,e){return t!==f&&(typeof Object.create=="function"?Object.defineProperty(t,"__esModule",{value:!0}):t.__esModule=!0),function(n,r){return t[n]=e?e(n,r):r}}})(function(c){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])};I=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");f(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},G=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},R=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},N=function(t,e,n,r){var a=arguments.length,i=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},B=function(t,e){return function(n,r){e(n,r,t)}},V=function(t,e,n,r,a,i){function o(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var s=r.kind,y=s==="getter"?"get":s==="setter"?"set":"value",l=!e&&t?r.static?t:t.prototype:null,_=e||(l?Object.getOwnPropertyDescriptor(l,r.name):{}),h,d=!1,v=n.length-1;v>=0;v--){var b={};for(var p in r)b[p]=p==="access"?{}:r[p];for(var p in r.access)b.access[p]=r.access[p];b.addInitializer=function(g){if(d)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(g||null))};var w=(0,n[v])(s==="accessor"?{get:_.get,set:_.set}:_[y],b);if(s==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(h=o(w.get))&&(_.get=h),(h=o(w.set))&&(_.set=h),(h=o(w.init))&&a.push(h)}else(h=o(w))&&(s==="field"?a.push(h):_[y]=h)}l&&Object.defineProperty(l,r.name,_),d=!0},K=function(t,e,n){for(var r=arguments.length>2,a=0;a<e.length;a++)n=r?e[a].call(t,n):e[a].call(t);return r?n:void 0},x=function(t){return typeof t=="symbol"?t:"".concat(t)},H=function(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})},q=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},z=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(_){try{l(r.next(_))}catch(h){o(h)}}function y(_){try{l(r.throw(_))}catch(h){o(h)}}function l(_){_.done?i(_.value):a(_.value).then(s,y)}l((r=r.apply(t,e||[])).next())})},L=function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,a,i,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(_){return y([l,_])}}function y(l){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(n=0)),n;)try{if(r=1,a&&(i=l[0]&2?a.return:l[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,l[1])).done)return i;switch(a=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,a=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(_){l=[6,_],a=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},W=function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&S(e,t,n)},S=Object.create?function(t,e,n,r){r===void 0&&(r=n);var a=Object.getOwnPropertyDescriptor(e,n);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,a)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]},P=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},C=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),a,i=[],o;try{for(;(e===void 0||e-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},J=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(C(arguments[e]));return t},Q=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r},U=function(t,e,n){if(n||arguments.length===2)for(var r=0,a=e.length,i;r<a;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},m=function(t){return this instanceof m?(this.v=t,this):new m(t)},X=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),a,i=[];return a={},o("next"),o("throw"),o("return"),a[Symbol.asyncIterator]=function(){return this},a;function o(d){r[d]&&(a[d]=function(v){return new Promise(function(b,p){i.push([d,v,b,p])>1||s(d,v)})})}function s(d,v){try{y(r[d](v))}catch(b){h(i[0][3],b)}}function y(d){d.value instanceof m?Promise.resolve(d.value.v).then(l,_):h(i[0][2],d)}function l(d){s("next",d)}function _(d){s("throw",d)}function h(d,v){d(v),i.shift(),i.length&&s(i[0][0],i[0][1])}},Y=function(t){var e,n;return e={},r("next"),r("throw",function(a){throw a}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(a,i){e[a]=t[a]?function(o){return(n=!n)?{value:m(t[a](o)),done:!1}:i?i(o):o}:i}},Z=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof P=="function"?P(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(s,y){o=t[i](o),a(s,y,o.done,o.value)})}}function a(i,o,s,y){Promise.resolve(y).then(function(l){i({value:l,done:s})},o)}},$=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t};var u=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};k=function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&S(e,t,n);return u(e,t),e},ee=function(t){return t&&t.__esModule?t:{default:t}},te=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},ne=function(t,e,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(t,n):a?a.value=n:e.set(t,n),n},re=function(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)},c("__extends",I),c("__assign",G),c("__rest",R),c("__decorate",N),c("__param",B),c("__esDecorate",V),c("__runInitializers",K),c("__propKey",x),c("__setFunctionName",H),c("__metadata",q),c("__awaiter",z),c("__generator",L),c("__exportStar",W),c("__createBinding",S),c("__values",P),c("__read",C),c("__spread",J),c("__spreadArrays",Q),c("__spreadArray",U),c("__await",m),c("__asyncGenerator",X),c("__asyncDelegator",Y),c("__asyncValues",Z),c("__makeTemplateObject",$),c("__importStar",k),c("__importDefault",ee),c("__classPrivateFieldGet",te),c("__classPrivateFieldSet",ne),c("__classPrivateFieldIn",re)})});var Se={};ve(Se,{default:()=>Pe});var j=function(){return j=Object.assign||function(c){for(var f,u=1,t=arguments.length;u<t;u++){f=arguments[u];for(var e in f)Object.prototype.hasOwnProperty.call(f,e)&&(c[e]=f[e])}return c},j.apply(this,arguments)},E=function(c,f,u,t){function e(n){return n instanceof u?n:new u(function(r){r(n)})}return new(u||(u=Promise))(function(n,r){function a(s){try{o(t.next(s))}catch(y){r(y)}}function i(s){try{o(t.throw(s))}catch(y){r(y)}}function o(s){s.done?n(s.value):e(s.value).then(a,i)}o((t=t.apply(c,f||[])).next())})},D=function(c,f){var u={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},t,e,n,r;return r={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function a(o){return function(s){return i([o,s])}}function i(o){if(t)throw new TypeError("Generator is already executing.");for(;r&&(r=0,o[0]&&(u=0)),u;)try{if(t=1,e&&(n=o[0]&2?e.return:o[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,o[1])).done)return n;switch(e=0,n&&(o=[o[0]&2,n.value]),o[0]){case 0:case 1:n=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,e=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(n=u.trys,!(n=n.length>0&&n[n.length-1])&&(o[0]===6||o[0]===2)){u=0;continue}if(o[0]===3&&(!n||o[1]>n[0]&&o[1]<n[3])){u.label=o[1];break}if(o[0]===6&&u.label<n[1]){u.label=n[1],n=o;break}if(n&&u.label<n[2]){u.label=n[2],u.ops.push(o);break}n[2]&&u.ops.pop(),u.trys.pop();continue}o=f.call(c,u)}catch(s){o=[6,s],e=0}finally{t=n=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},we=function(){function c(){var f=this.constructor;this.context={},Object.setPrototypeOf(this,f.prototype)}return c.prototype.set=function(f,u){this.context[f]=u},c.prototype.get=function(f){return this.context[f]},c}();var me=function(c,f,u,t){return E(void 0,void 0,void 0,function(){var e;return D(this,function(n){switch(n.label){case 0:e=c(f,u,t),n.label=1;case 1:return typeof e.then!="function"?[3,3]:[4,e];case 2:return e=n.sent(),[3,1];case 3:return[2,e]}})})},F=function(c,f){return function(u,t,e){return E(void 0,void 0,void 0,function(){var n,r,a;return D(this,function(i){switch(i.label){case 0:return n=j(j({},u),{somodMiddlewareContext:new we}),r=f.length,a=function(){return E(void 0,void 0,void 0,function(){var o,s,y;return D(this,function(l){switch(l.label){case 0:return r>0?(o=f[--r],[4,o(a,n,t)]):[3,2];case 1:return s=l.sent(),[2,s];case 2:return[4,me(c,n,t,e)];case 3:return y=l.sent(),[2,y]}})})},[4,a()];case 1:return[2,i.sent()]}})})}};var ie=be(ae(),1),{__extends:Me,__assign:Ae,__rest:Ie,__decorate:Ge,__param:Re,__esDecorate:Ne,__runInitializers:Be,__propKey:Ve,__setFunctionName:Ke,__metadata:xe,__awaiter:oe,__generator:ce,__exportStar:He,__createBinding:qe,__values:ze,__read:Le,__spread:We,__spreadArrays:Je,__spreadArray:Qe,__await:Ue,__asyncGenerator:Xe,__asyncDelegator:Ye,__asyncValues:Ze,__makeTemplateObject:$e,__importStar:ke,__importDefault:et,__classPrivateFieldGet:tt,__classPrivateFieldSet:nt,__classPrivateFieldIn:rt}=ie.default;var ue=require("aws-sdk"),ge=new ue.DynamoDB.DocumentClient({apiVersion:"2012-08-10",region:process.env.AWS_REGION}),Oe=function(c){return oe(void 0,void 0,void 0,function(){var f;return ce(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,ge.delete({TableName:process.env.TABLE_NAME,Key:{connectionId:c.requestContext.connectionId}}).promise()];case 1:return u.sent(),[3,3];case 2:return f=u.sent(),[2,{statusCode:500,body:"Failed to disconnect: "+JSON.stringify(f)}];case 3:return[2,{statusCode:200,body:"Disconnected."}]}})})},fe=Oe;var je=F(fe,[]),Pe=je;module.exports=pe(Se);0&&(module.exports={});
