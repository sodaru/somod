var we=Object.create;var P=Object.defineProperty;var me=Object.getOwnPropertyDescriptor;var ge=Object.getOwnPropertyNames;var Oe=Object.getPrototypeOf,je=Object.prototype.hasOwnProperty;var C=(o,s)=>()=>(s||o((s={exports:{}}).exports,s),s.exports),Se=(o,s)=>{for(var c in s)P(o,c,{get:s[c],enumerable:!0})},I=(o,s,c,l)=>{if(s&&typeof s=="object"||typeof s=="function")for(let e of ge(s))!je.call(o,e)&&e!==c&&P(o,e,{get:()=>s[e],enumerable:!(l=me(s,e))||l.enumerable});return o};var G=(o,s,c)=>(c=o!=null?we(Oe(o)):{},I(s||!o||!o.__esModule?P(c,"default",{value:o,enumerable:!0}):c,o)),Pe=o=>I(P({},"__esModule",{value:!0}),o);var N=C(b=>{"use strict";var E=b&&b.__assign||function(){return E=Object.assign||function(o){for(var s,c=1,l=arguments.length;c<l;c++){s=arguments[c];for(var e in s)Object.prototype.hasOwnProperty.call(s,e)&&(o[e]=s[e])}return o},E.apply(this,arguments)},F=b&&b.__awaiter||function(o,s,c,l){function e(t){return t instanceof c?t:new c(function(r){r(t)})}return new(c||(c=Promise))(function(t,r){function n(u){try{a(l.next(u))}catch(_){r(_)}}function i(u){try{a(l.throw(u))}catch(_){r(_)}}function a(u){u.done?t(u.value):e(u.value).then(n,i)}a((l=l.apply(o,s||[])).next())})},R=b&&b.__generator||function(o,s){var c={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},l,e,t,r;return r={next:n(0),throw:n(1),return:n(2)},typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function n(a){return function(u){return i([a,u])}}function i(a){if(l)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(c=0)),c;)try{if(l=1,e&&(t=a[0]&2?e.return:a[0]?e.throw||((t=e.return)&&t.call(e),0):e.next)&&!(t=t.call(e,a[1])).done)return t;switch(e=0,t&&(a=[a[0]&2,t.value]),a[0]){case 0:case 1:t=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,e=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(t=c.trys,!(t=t.length>0&&t[t.length-1])&&(a[0]===6||a[0]===2)){c=0;continue}if(a[0]===3&&(!t||a[1]>t[0]&&a[1]<t[3])){c.label=a[1];break}if(a[0]===6&&c.label<t[1]){c.label=t[1],t=a;break}if(t&&c.label<t[2]){c.label=t[2],c.ops.push(a);break}t[2]&&c.ops.pop(),c.trys.pop();continue}a=s.call(o,c)}catch(u){a=[6,u],e=0}finally{l=t=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};b.__esModule=!0;b.getMiddlewareHandler=b.MiddlewareContext=void 0;var B=function(){function o(){var s=this.constructor;this.context={},Object.setPrototypeOf(this,s.prototype)}return o.prototype.set=function(s,c){this.context[s]=c},o.prototype.get=function(s){return this.context[s]},o}();b.MiddlewareContext=B;var Ee=function(o,s,c,l){return F(void 0,void 0,void 0,function(){var e;return R(this,function(t){switch(t.label){case 0:e=o(s,c,l),t.label=1;case 1:return typeof e?.then!="function"?[3,3]:[4,e];case 2:return e=t.sent(),[3,1];case 3:return[2,e]}})})},Te=function(o,s){return function(c,l,e){return F(void 0,void 0,void 0,function(){var t,r,n;return R(this,function(i){switch(i.label){case 0:return t=E(E({},c),{somodMiddlewareContext:new B}),r=s.length,n=function(){return F(void 0,void 0,void 0,function(){var a,u,_;return R(this,function(h){switch(h.label){case 0:return r>0?(a=s[--r],[4,a(n,t,l)]):[3,2];case 1:return u=h.sent(),[2,u];case 2:return[4,Ee(o,t,l,e)];case 3:return _=h.sent(),[2,_]}})})},[4,n()];case 1:return[2,i.sent()]}})})}};b.getMiddlewareHandler=Te});var H=C(O=>{"use strict";var De=O&&O.__createBinding||(Object.create?function(o,s,c,l){l===void 0&&(l=c);var e=Object.getOwnPropertyDescriptor(s,c);(!e||("get"in e?!s.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return s[c]}}),Object.defineProperty(o,l,e)}:function(o,s,c,l){l===void 0&&(l=c),o[l]=s[c]});O.__esModule=!0;O.getMiddlewareHandler=void 0;var Me=N();De(O,Me,"getMiddlewareHandler")});var _e=C((He,M)=>{var V,K,q,z,L,W,J,Q,U,X,Y,Z,$,T,A,x,k,ee,j,te,re,ne,ae,ie,oe,ce,ue,se,D,fe,le;(function(o){var s=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(l){o(c(s,c(l)))}):typeof M=="object"&&typeof M.exports=="object"?o(c(s,c(M.exports))):o(c(s));function c(l,e){return l!==s&&(typeof Object.create=="function"?Object.defineProperty(l,"__esModule",{value:!0}):l.__esModule=!0),function(t,r){return l[t]=e?e(t,r):r}}})(function(o){var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])};V=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");s(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},K=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},q=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},z=function(e,t,r,n){var i=arguments.length,a=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,n);else for(var _=e.length-1;_>=0;_--)(u=e[_])&&(a=(i<3?u(a):i>3?u(t,r,a):u(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},L=function(e,t){return function(r,n){t(r,n,e)}},W=function(e,t,r,n,i,a){function u(S){if(S!==void 0&&typeof S!="function")throw new TypeError("Function expected");return S}for(var _=n.kind,h=_==="getter"?"get":_==="setter"?"set":"value",f=!t&&e?n.static?e:e.prototype:null,d=t||(f?Object.getOwnPropertyDescriptor(f,n.name):{}),p,y=!1,v=r.length-1;v>=0;v--){var w={};for(var m in n)w[m]=m==="access"?{}:n[m];for(var m in n.access)w.access[m]=n.access[m];w.addInitializer=function(S){if(y)throw new TypeError("Cannot add initializers after decoration has completed");a.push(u(S||null))};var g=(0,r[v])(_==="accessor"?{get:d.get,set:d.set}:d[h],w);if(_==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(p=u(g.get))&&(d.get=p),(p=u(g.set))&&(d.set=p),(p=u(g.init))&&i.unshift(p)}else(p=u(g))&&(_==="field"?i.unshift(p):d[h]=p)}f&&Object.defineProperty(f,n.name,d),y=!0},J=function(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0},Q=function(e){return typeof e=="symbol"?e:"".concat(e)},U=function(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})},X=function(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)},Y=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function _(d){try{f(n.next(d))}catch(p){u(p)}}function h(d){try{f(n.throw(d))}catch(p){u(p)}}function f(d){d.done?a(d.value):i(d.value).then(_,h)}f((n=n.apply(e,t||[])).next())})},Z=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,u;return u={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function _(f){return function(d){return h([f,d])}}function h(f){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,f[0]&&(r=0)),r;)try{if(n=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(d){f=[6,d],i=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},$=function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&D(t,e,r)},D=Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]},T=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},A=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],u;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(_){u={error:_}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return a},x=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(A(arguments[t]));return e},k=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],u=0,_=a.length;u<_;u++,i++)n[i]=a[u];return n},ee=function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))},j=function(e){return this instanceof j?(this.v=e,this):new j(e)},te=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,a=[];return i={},u("next"),u("throw"),u("return"),i[Symbol.asyncIterator]=function(){return this},i;function u(y){n[y]&&(i[y]=function(v){return new Promise(function(w,m){a.push([y,v,w,m])>1||_(y,v)})})}function _(y,v){try{h(n[y](v))}catch(w){p(a[0][3],w)}}function h(y){y.value instanceof j?Promise.resolve(y.value.v).then(f,d):p(a[0][2],y)}function f(y){_("next",y)}function d(y){_("throw",y)}function p(y,v){y(v),a.shift(),a.length&&_(a[0][0],a[0][1])}},re=function(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,a){t[i]=e[i]?function(u){return(r=!r)?{value:j(e[i](u)),done:!1}:a?a(u):u}:a}},ne=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof T=="function"?T(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(u){return new Promise(function(_,h){u=e[a](u),i(_,h,u.done,u.value)})}}function i(a,u,_,h){Promise.resolve(h).then(function(f){a({value:f,done:_})},u)}},ae=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};var c=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};ie=function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&D(t,e,r);return c(t,e),t},oe=function(e){return e&&e.__esModule?e:{default:e}},ce=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},ue=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},se=function(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)},fe=function(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose]}if(typeof n!="function")throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t};var l=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};le=function(e){function t(n){e.error=e.hasError?new l(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}function r(){for(;e.stack.length;){var n=e.stack.pop();try{var i=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(i).then(r,function(a){return t(a),r()})}catch(a){t(a)}}if(e.hasError)throw e.error}return r()},o("__extends",V),o("__assign",K),o("__rest",q),o("__decorate",z),o("__param",L),o("__esDecorate",W),o("__runInitializers",J),o("__propKey",Q),o("__setFunctionName",U),o("__metadata",X),o("__awaiter",Y),o("__generator",Z),o("__exportStar",$),o("__createBinding",D),o("__values",T),o("__read",A),o("__spread",x),o("__spreadArrays",k),o("__spreadArray",ee),o("__await",j),o("__asyncGenerator",te),o("__asyncDelegator",re),o("__asyncValues",ne),o("__makeTemplateObject",ae),o("__importStar",ie),o("__importDefault",oe),o("__classPrivateFieldGet",ce),o("__classPrivateFieldSet",ue),o("__classPrivateFieldIn",se),o("__addDisposableResource",fe),o("__disposeResources",le)})});var Ie={};Se(Ie,{default:()=>Ae});module.exports=Pe(Ie);var ve=G(H());var de=G(_e(),1),{__extends:Ve,__assign:Ke,__rest:qe,__decorate:ze,__param:Le,__esDecorate:We,__runInitializers:Je,__propKey:Qe,__setFunctionName:Ue,__metadata:Xe,__awaiter:ye,__generator:he,__exportStar:Ye,__createBinding:Ze,__values:$e,__read:xe,__spread:ke,__spreadArrays:et,__spreadArray:tt,__await:rt,__asyncGenerator:nt,__asyncDelegator:at,__asyncValues:it,__makeTemplateObject:ot,__importStar:ct,__importDefault:ut,__classPrivateFieldGet:st,__classPrivateFieldSet:ft,__classPrivateFieldIn:lt,__addDisposableResource:_t,__disposeResources:dt}=de.default;var pe=require("aws-sdk"),Ce=new pe.DynamoDB.DocumentClient({apiVersion:"2012-08-10",region:process.env.AWS_REGION}),Fe=function(o){return ye(void 0,void 0,void 0,function(){var s;return he(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,Ce.delete({TableName:process.env.TABLE_NAME,Key:{connectionId:o.requestContext.connectionId}}).promise()];case 1:return c.sent(),[3,3];case 2:return s=c.sent(),[2,{statusCode:500,body:"Failed to disconnect: "+JSON.stringify(s)}];case 3:return[2,{statusCode:200,body:"Disconnected."}]}})})},be=Fe;var Re=(0,ve.getMiddlewareHandler)(be,[]),Ae=Re;0&&(module.exports={});
